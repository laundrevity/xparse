This project is a tool for generating Rust code to serialize and deserialize certain message formats as specified in XML.

<h2> Run the example </h2>
This example assumes you have Rust installed (and that `cargo` is in your PATH) and that you have Python3 installed (so that `python3` is in your PATH).

The file `example_schema.xml` contains an example of a set of message formats we could specify:
```xml
<messageFormats>
    <messageFormat id="1" name="person">
        <attribute name="id" type="integer" length="4" required="true"/>
        <attribute name="name" type="string" length="20" required="true"/>
        <attribute name="age" type="integer" length="2" required="false"/>
        <attribute name="city" type="string" length="15" required="false"/>
        <attribute name="is_student" type="boolean" length="1" required="true"/>
    </messageFormat>

    <messageFormat id="2" name="employee">
        <attribute name="employee_id" type="integer" length="4" required="true"/>
        <attribute name="employee_name" type="string" length="25" required="true"/>
        <attribute name="salary" type="integer" length="4" required="true"/>
        <attribute name="department" type="string" length="20" required="false"/>
        <attribute name="is_manager" type="boolean" length="1" required="true"/>
    </messageFormat>
</messageFormats>
```

The Rust code can be generated by simply via `python3 main.py`, and the tests can be run via `cargo test`. Note that the tests are hard-coded for this specific XML schema.

<h2>Message format</h2>
Every message begins with a <i>header</i>, which consists of:

- 4 byte unsigned integer <i>message length</i> (including the header length)
- 1 byte unsigned integer <i>message type</i> indicating what the message format (corresponding to `messageFormat id` in the XML)
- 4 byte unsigned integer <i>bitmask</i> bitmask which, in big endian, indicates which, if any, of the optional fields are present

After the header, the message consists of the present fields in order of listing in the XML, as indicated by the bitmask. Strings are fixed length, right-padded with spaces, and consist <b>only of ASCII characters</b>. Presently, only the following message attribute types are supported:

- signed integers of byte length 1, 2, 4, 8, 16, or 128
- booleans
- strings of fixed length, consisting only of ASCII characters